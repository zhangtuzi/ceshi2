<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name='viewport' content="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=0" />
  	<meta http-equiv="Pragma" content="no-cache" />
  	<meta http-equiv="Cache-Control" content="no-cache">
  	<meta http-equiv="Expires" content="0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>对号动图canvas测试</title>
    <script type="text/javascript" src="jquery-1.11.3.min.js"></script>
    <style media="screen">
      *{
        margin:0;
        padding:0;
      }
    </style>
  </head>
  <body>
    <div id="warp" style="width:300px;height:1579px;background:red;">
          <canvas id="true_icon" width="300" height="300"></canvas>
    </div>
    <script type="text/javascript">
      var true_bg=document.getElementById("true_icon");
      var true_dw=true_bg.getContext("2d");
      function draw_true(left,top){
        true_dw.clearRect(0,0,300,300);
        console.log(left+"....."+top);
        true_dw.beginPath();
        true_dw.strokeStyle="#fc5f01";
        true_dw.lineWidth="2";
        true_dw.lineCap = "round";
        true_dw.moveTo(35,35);
        true_dw.lineTo(left,top);
        true_dw.stroke();
        true_dw.closePath();
      }

      function draw_true2(left,top){
        true_dw.clearRect(0,0,300,300);
        console.log(left+"....."+top2);
        true_dw.beginPath();
        true_dw.strokeStyle="#fc5f01";
        true_dw.lineWidth="2";
        true_dw.lineCap = "round";
        true_dw.lineJoin="round";
        true_dw.moveTo(35,35);
        true_dw.lineTo(50,47);
        true_dw.lineTo(left,top);
        true_dw.stroke();
        true_dw.closePath();
      }
      var left1=35;
      var top1=35;
      var top2=47;
      var true_icon_dw=setInterval(function(){
        left1=left1+3;
        if(left1<53){
          draw_true(left1,top1);
          top1=top1+3;
        }else{
          top2=top2-4;
          draw_true2(left1,top2);
          if(top2<15){
            clearInterval(true_icon_dw);
          }
        }


      },50)
    </script>
    <script type="text/javascript">

    var winHeight;//浏览器内置窗口高度
    var screenHeight;//手机屏幕高度
    if (window.innerHeight){
        winHeight = window.innerHeight;
    }else if ((document.body) && (document.body.clientHeight)){
      winHeight = document.body.clientHeight;
    }
    screenHeight=screen.height;

    alert(screenHeight-winHeight);

    </script>
  </body>
</html>
